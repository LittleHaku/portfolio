---
import TechPill from "./TechPill.astro";
import Button from "./Button.astro";
import GitHubIcon from "./icons/GitHubIcon.astro";
import LinkIcon from "./icons/LinkIcon.astro";
import VideoIcon from "./icons/VideoIcon.astro";

interface Props {
  title: string;
  description: string;
  techs?: string[];
  screenshotSrc?: string;
  screenshotAlt?: string;
  githubLink?: string;
  liveLink?: string;
  videoLink?: string;
  type?: "Professional" | "Personal";
}

const {
  title,
  description,
  techs = [],
  screenshotSrc,
  screenshotAlt = `${title} screenshot`,
  githubLink,
  liveLink,
  videoLink,
  type = "Personal",
} = Astro.props;

// Define color variants for each project type
const typeClasses =
  type === "Personal"
    ? "bg-emerald-100 text-emerald-800 dark:bg-emerald-900/40 dark:text-emerald-300"
    : "bg-blue-100 text-blue-800 dark:bg-blue-900/40 dark:text-blue-300";
---

<article
  class="group relative flex flex-col bg-white dark:bg-zinc-900 border border-zinc-200/60 dark:border-zinc-700/40 rounded-xl overflow-hidden
         transform transition-all duration-200 ease-in-out
         hover:scale-105 hover:shadow-lg"
>
  {
    screenshotSrc && (
      <img
        src={screenshotSrc}
        alt={screenshotAlt}
        class="w-full object-cover aspect-video group-hover:scale-105 transition-transform duration-300"
      />
    )
  }

  <div class="p-6 flex flex-col flex-grow">
    <!-- Title row -->
    <div class="flex items-center justify-between mb-2">
      <h3 class="font-serif text-xl text-zinc-900 dark:text-zinc-50">
        {title}
      </h3>

      <span
        class={`px-2 py-0.5 text-xs font-medium rounded-full uppercase tracking-wide ${typeClasses}`}
      >
        {type}
      </span>
    </div>

    <p class="text-zinc-600 dark:text-zinc-300 flex-grow mb-4">
      {description}
    </p>

    {
      techs.length > 0 && (
        <div class="flex flex-wrap gap-2 mb-4">
          {techs.map((tech) => (
            <TechPill label={tech} />
          ))}
        </div>
      )
    }

    <div class="mt-auto flex items-center space-x-4">
      {
          liveLink && (
              <Button href={liveLink}>
            <LinkIcon class="w-4 h-4" />
            Live
          </Button>
        )
    }
    {
      githubLink && (
        <Button href={githubLink}>
          <GitHubIcon class="w-4 h-4" />
          GitHub
        </Button>
      )
    }
      {
        videoLink && (
          <Button href={videoLink}>
            <VideoIcon class="w-4 h-4" />
            Video
          </Button>
        )
      }
    </div>
  </div>
</article>
